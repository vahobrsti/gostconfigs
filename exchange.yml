# gost config for exchange.somimobile.com

services:
  - name: service-france
    addr: :7443
    handler:
      type: tcp
      chain: chain-france
    listener:
      type: tcp
  - name: service-poland-trojan
    addr: :8443
    handler:
      type: tcp
      chain: chain-poland
    listener:
      type: tcp
  - name: service-bahrain
    addr: :6443
    handler:
      type: tcp
      chain: chain-bahrain
    listener:
      type: tcp
chains:
  - name: chain-france
    hops:
      - name: hop-0
        nodes:
          - name: node-0
            addr: uat.somimobile.com:9443
            connector:
              type: relay
            dialer:
              type: tls
              tls:
                secure: true

  - name: chain-poland
    hops:
      - name: hop-0
        nodes:
          - name: node-0
            addr: admin.somimobile.com:9443
            connector:
              type: forward
            dialer:
              type: otls

  - name: chain-bahrain
    hops:
      - name: hop-bahrain
        nodes:
          - name: node-bahrain
            addr: foroush.somimobile.com:6443
            connector:
              type: forward
            dialer:
              type: tcp